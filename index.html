<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Fantasy Playoff Bracket Simulator</title>

<style>
body { font-family: Arial, sans-serif; padding: 20px; }

button { margin-right: 8px; margin-bottom: 12px; }

.container {
  display: flex;
  gap: 30px;
}

.teams {
  width: 220px;
}

.team {
  padding: 6px;
  border: 1px solid #aaa;
  margin-bottom: 6px;
  background: #f9f9f9;
  cursor: grab;
}

.bracket {
  display: grid;
  grid-template-columns: 260px 220px 220px;
  gap: 30px;
}

.round h3 {
  text-align: center;
}

.match {
  border: 1px solid #ccc;
  padding: 8px;
  margin-bottom: 16px;
}

.slot {
  border: 1px dashed #aaa;
  padding: 6px;
  margin-bottom: 6px;
  min-height: 22px;
}

.slot strong {
  display: block;
  font-size: 12px;
  color: #666;
}

.winner {
  font-weight: bold;
  color: green;
}
</style>
</head>

<body>

<h2>Fantasy Football Playoff Bracket Simulator</h2>

<button onclick="loadActual()">Actual Bracket</button>
<button onclick="loadCounterfactual()">OskiMode Counterfactual</button>
<button onclick="randomSeeding()">Random Seeding</button>
<button onclick="simulate()">Simulate</button>

<div class="container">

  <!-- Teams -->
  <div class="teams">
    <h3>Teams</h3>
    <div id="teams"></div>
  </div>

  <!-- Bracket -->
  <div class="bracket">
    <div class="round">
      <h3>Quarterfinals</h3>
      <div id="qf"></div>
    </div>

    <div class="round">
      <h3>Semifinals</h3>
      <div id="sf"></div>
    </div>

    <div class="round">
      <h3>Final</h3>
      <div id="final"></div>
    </div>
  </div>

</div>

<script>
const teams = {
  "Million $ Baby": [133.4, 98.74, 98.04],
  "grace's Legit Team": [133.84, 145.72, 88.28],
  "Lo Cal Calzone Zone": [147.52, 73.8, 143.38],
  "510vin's Fine Team": [78.24, 87.48, 84.62],
  "OskiMode": [109.4, 128.5, 135.52],
  "The Gofffather": [107.4, 124.26, 73.98],
  "manningfaced": [71.74, 123.12, 142.08],
  "Lambda Lambda Lambda": [97.4, 71.4, 59.2]
};

const seedPairs = [
  [1,8],
  [4,5],
  [3,6],
  [2,7]
];

const actual = {
  1:"Lambda Lambda Lambda",2:"manningfaced",3:"Million $ Baby",4:"Lo Cal Calzone Zone",
  5:"The Gofffather",6:"OskiMode",7:"510vin's Fine Team",8:"grace's Legit Team"
};

const counter = {
  1:"Lambda Lambda Lambda",2:"manningfaced",3:"Million $ Baby",4:"510vin's Fine Team",
  5:"Lo Cal Calzone Zone",6:"The Gofffather",7:"grace's Legit Team",8:"OskiMode"
};

function makeTeams() {
  const t = document.getElementById("teams");
  t.innerHTML = "";
  Object.keys(teams).forEach(name => {
    let d = document.createElement("div");
    d.className = "team";
    d.textContent = name;
    d.draggable = true;
    d.ondragstart = e => e.dataTransfer.setData("text", name);
    t.appendChild(d);
  });
}

function makeQuarterfinals() {
  const q = document.getElementById("qf");
  q.innerHTML = "";
  seedPairs.forEach(pair => {
    let m = document.createElement("div");
    m.className = "match";
    pair.forEach(seed => {
      let s = document.createElement("div");
      s.className = "slot";
      s.dataset.seed = seed;
      s.ondragover = e => e.preventDefault();
      s.ondrop = e => {
        e.preventDefault();
        const team = e.dataTransfer.getData("text");
        s.innerHTML = `<strong>Seed ${seed}</strong>${team}`;
      };
      s.innerHTML = `<strong>Seed ${seed}</strong>`;
      m.appendChild(s);
    });
    q.appendChild(m);
  });
}

function score(a,b,w){ return teams[a][w] >= teams[b][w] ? a : b; }

function simulate() {
  let s = {};
  document.querySelectorAll(".slot").forEach(d => {
    const seed = d.dataset.seed;
    const team = d.textContent.replace(`Seed ${seed}`,"").trim();
    s[seed] = team;
  });

  const qfWinners = seedPairs.map(p => score(s[p[0]], s[p[1]], 0));

  const sf = [
    score(qfWinners[0], qfWinners[1], 1),
    score(qfWinners[2], qfWinners[3], 1)
  ];

  const champ = score(sf[0], sf[1], 2);

  drawRound("sf", sf);
  drawRound("final", [champ]);
}

function drawRound(id, teams) {
  const d = document.getElementById(id);
  d.innerHTML = "";
  teams.forEach(t => {
    d.innerHTML += `<div class="match winner">${t}</div>`;
  });
}

function loadSeeds(obj) {
  document.querySelectorAll(".slot").forEach(s => {
    const seed = s.dataset.seed;
    s.innerHTML = `<strong>Seed ${seed}</strong>${obj[seed] || ""}`;
  });
}

function loadActual(){ loadSeeds(actual); }
function loadCounterfactual(){ loadSeeds(counter); }

function randomSeeding() {
  const names = Object.keys(teams).sort(() => Math.random() - 0.5);
  let s = {};
  names.forEach((t,i)=>s[i+1]=t);
  loadSeeds(s);
}

makeTeams();
makeQuarterfinals();
</script>

</body>
</html>
